!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],n):"object"==typeof exports?exports.template=n(require("jQuery")):t.template=n(t.jQuery)}(this,function(t){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="http://oy1vg35hd.bkt.clouddn.com/63c3ce405e332f456e1b/",n(n.s=13)}([function(n,e){n.exports=t},function(t,n,e){"use strict";t.exports=e(3)},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";(function(n){function r(t){return"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?r(t.call(t)):JSON.stringify(t)),t}function o(t){var n=""+t,e=a.exec(n);if(!e)return t;var r="",o=void 0,i=void 0,c=void 0;for(o=e.index,i=0;o<n.length;o++){switch(n.charCodeAt(o)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}i!==o&&(r+=n.substring(i,o)),i=o+1,r+=c}return i!==o?r+n.substring(i,o):r}/*! art-template@runtime | https://github.com/aui/art-template */
var i=e(4),c=Object.create(i?n:window),a=/["&'<>]/;c.$escape=function(t){return o(r(t))},c.$each=function(t,n){if(Array.isArray(t))for(var e=0,r=t.length;e<r;e++)n(t[e],e);else for(var o in t)n(t[o],o)},t.exports=c}).call(n,e(2))},function(t,n,e){(function(n){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(n.process)}catch(t){}}).call(n,e(2))},function(t,n,e){var r=e(0);t.exports={send:function(t){r.ajax(t)}}},function(t,n,e){e(1);t.exports=function(t){"use strict";t=t||{};var n="";return n+='<div style="text-align: center;">\n    <h1>接口调用示例</h1>\n    <div id="loading">获取数据中...</div>\n    <div id="info" style="display: none;">\n        <div>\n            <img style="width: 120px; height: 120px; border-radius: 50%;" id="avatar">\n        </div>\n        <div>\n            <span style="font-size: 24px;" id="nickname"></span>\n        </div>\n        <div>\n            <button id="drawBtn">点击抽奖</button>\n        </div>\n        <p style="border-top: 1px solid #ddd; padding-top: 15px; font-weight: bold;">抽奖记录</p>\n        <ul style="list-style: none;" id="records"></ul>\n    </div>\n</div>'}},,,function(t,n,e){var r=e(5);t.exports={getGameInfo:function(t){r.send({url:"/activity/v1/game-info",dataType:"json",success:function(n){"function"==typeof t&&t(n)}})},doLuckyDraw:function(t){r.send({url:"/activity/v1/do-lucky-draw",method:"POST",dataType:"json",success:function(n){"function"==typeof t&&t(n)}})}}},,,,function(t,n,e){function r(t){for(var n="",e=0;e<t.length;e++){var r=t[e];n+='<li style="padding: 5px;">'+(r.is_win?"中奖了~":"真可惜！")+" "+r.created_at+"</li>"}return n}var o=e(0),i=(e(5),e(9));o(function(){const t=e(6);"object"==typeof document&&(document.getElementById("app").innerHTML=t()),i.getGameInfo(function(t){o("#app").fadeIn(),o("#nickname").text(t.game_info.nickname),o("#avatar").attr("src",t.game_info.avatar),o("#records").append(r(t.game_info.draw_records)),setTimeout(function(){o("#loading").hide(),o("#info").fadeIn()},800)});var n=!0;o("#drawBtn").on("click",function(){if(!n)return void alert("别太急");o("#drawBtn").text("抽奖中..."),n=!1,i.doLuckyDraw(function(t){setTimeout(function(){n=!0},500),o("#drawBtn").text("点击抽奖"),t.new_draw_record.is_win?alert("中奖了~"):alert("真可惜!"),o("#records").append(r([t.new_draw_record]))})})})}])});
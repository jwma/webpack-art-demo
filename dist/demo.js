!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports.template=t(require("jQuery")):n.template=t(n.jQuery)}(this,function(n){return function(n){function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="http://oy1vg35hd.bkt.clouddn.com/94c3ec04d93a9acf4026/",t(t.s=13)}([function(t,e){t.exports=n},function(n,t,e){"use strict";n.exports=e(3)},function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t,e){"use strict";(function(t){function o(n){return"string"!=typeof n&&(n=void 0===n||null===n?"":"function"==typeof n?o(n.call(n)):JSON.stringify(n)),n}function r(n){var t=""+n,e=a.exec(t);if(!e)return n;var o="",r=void 0,i=void 0,c=void 0;for(r=e.index,i=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}i!==r&&(o+=t.substring(i,r)),i=r+1,o+=c}return i!==r?o+t.substring(i,r):o}/*! art-template@runtime | https://github.com/aui/art-template */
var i=e(4),c=Object.create(i?t:window),a=/["&'<>]/;c.$escape=function(n){return r(o(n))},c.$each=function(n,t){if(Array.isArray(n))for(var e=0,o=n.length;e<o;e++)t(n[e],e);else for(var r in n)t(n[r],r)},n.exports=c}).call(t,e(2))},function(n,t,e){(function(t){n.exports=!1;try{n.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(n){}}).call(t,e(2))},function(n,t,e){var o=e(0);n.exports={send:function(n){var t=n.successCallback,e=n.failCallback;n.success=n.success||function(n){"function"==typeof t&&t(n)},n.fail=n.fail||function(n){"function"==typeof e&&e(n)},o.ajax(n).error(function(n){"function"==typeof e&&e(n)})}}},function(n,t,e){e(1);n.exports=function(n){"use strict";n=n||{};var t="";return t+='<div style="text-align: center;">\n    <h1>接口调用示例</h1>\n    <div id="loading">获取数据中...</div>\n    <div id="info" style="display: none;">\n        <div>\n            <img style="width: 120px; height: 120px; border-radius: 50%;" id="avatar">\n        </div>\n        <div>\n            <span style="font-size: 24px;" id="nickname"></span>\n        </div>\n        <div>\n            <button id="drawBtn">点击抽奖</button>\n        </div>\n        <p style="border-top: 1px solid #ddd; padding-top: 15px; font-weight: bold;">抽奖记录</p>\n        <ul style="list-style: none;" id="records"></ul>\n    </div>\n</div>'}},,,function(n,t,e){var o=e(5);n.exports={getGameInfo:function(n){o.send(Object.assign({url:"/activity/v1/game-info",dataType:"json"},n))},doLuckyDraw:function(n){o.send(Object.assign({url:"/activity/v1/do-lucky-draw",method:"POST",dataType:"json"},n))}}},,,,function(n,t,e){function o(n){for(var t="",e=0;e<n.length;e++){var o=n[e];t+='<li style="padding: 5px;">'+(o.is_win?"中奖了~":"真可惜！")+" "+o.created_at+"</li>"}return t}var r=e(0),i=(e(5),e(9));r(function(){const n=e(6);"object"==typeof document&&(document.getElementById("app").innerHTML=n()),i.getGameInfo({successCallback:function(n){r("#app").fadeIn(),r("#nickname").text(n.game_info.nickname),r("#avatar").attr("src",n.game_info.avatar),r("#records").append(o(n.game_info.draw_records)),setTimeout(function(){r("#loading").hide(),r("#info").fadeIn()},800)},failCallback:function(n){console.log(n)}});var t=!0;r("#drawBtn").on("click",function(){if(!t)return void alert("别太急");r("#drawBtn").text("抽奖中..."),t=!1,i.doLuckyDraw({successCallback:function(n){setTimeout(function(){t=!0},500),r("#drawBtn").text("点击抽奖"),n.new_draw_record.is_win?alert("中奖了~"):alert("真可惜!"),r("#records").append(o([n.new_draw_record]))}})})})}])});